@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   Base Styles
   ========================================================================== */

@layer base {
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
      Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  body {
    line-height: 1.6;
    color: #374151;
    background-color: #f9fafb;
  }

  /* Better focus styles */
  :focus-visible {
    outline: 2px solid #6366f1;
    outline-offset: 2px;
  }
}

/* ==========================================================================
   Component Styles
   ========================================================================== */

@layer components {

  /* Chat Widget Container */
  .chat-widget {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    font-size: 14px;
    line-height: 1.5;
  }

  /* Chat Window */
  .chat-window {
    transform-origin: bottom right;
  }

  /* Scrollbar Styling */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #d1d5db;
    border-radius: 9999px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: #9ca3af;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Message bubbles with smooth appearance */
  .message-bubble {
    animation: fadeSlideIn 0.3s ease-out;
  }

  /* Gradient text */
  .text-gradient {
    @apply bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent;
  }

  /* Glass morphism effect */
  .glass {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  /* Pulse animation for notification badge */
  .pulse-ring {
    animation: pulseRing 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
  }
}

/* ==========================================================================
   Animations
   ========================================================================== */

@layer utilities {

  /* Slide up animation for chat window */
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  /* Fade in animation */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  /* Scale in animation */
  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  /* Slow bounce for toggle button */
  .animate-bounce-slow {
    animation: bounceSlow 2s ease-in-out infinite;
  }

  /* Typing dots animation */
  .animate-typing-dot {
    animation: typingDot 1.4s infinite ease-in-out;
  }
}

/* Keyframe Definitions */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes bounceSlow {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-5px);
  }
}

@keyframes typingDot {

  0%,
  80%,
  100% {
    transform: scale(0.8);
    opacity: 0.5;
  }

  40% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes pulseRing {
  0% {
    transform: scale(0.8);
    opacity: 0.8;
  }

  50% {
    transform: scale(1);
    opacity: 1;
  }

  100% {
    transform: scale(0.8);
    opacity: 0.8;
  }
}

/* ==========================================================================
   Mobile Responsive Adjustments
   ========================================================================== */

@media (max-width: 640px) {
  .chat-window {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100vw !important;
    height: 100vh !important;
    max-height: 100vh !important;
    margin: 0;
    border-radius: 0;
  }

  .chat-header {
    border-radius: 0;
  }
}

/* ==========================================================================
   Accessibility
   ========================================================================== */

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {

  .animate-slide-up,
  .animate-fade-in,
  .animate-scale-in,
  .animate-bounce-slow,
  .animate-bounce,
  .animate-pulse {
    animation: none !important;
    transition: none !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .chat-window {
    border: 2px solid #000;
  }

  .message-bubble {
    border: 1px solid currentColor;
  }
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ==========================================================================
   Print Styles
   ========================================================================== */

@media print {

  .chat-widget,
  .chat-window {
    display: none !important;
  }
}